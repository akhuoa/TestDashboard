{"version":3,"file":"LocationNavigator.stories-dc332b03.js","sources":["../../src/devComponents/BranchSlider.vue","../../src/assets/Model.js","../../src/demo/locationnavdemo.vue"],"sourcesContent":["<template>\n    <div class=\"branch-slider-wrap\">\n        <div class=\"branch-slider-block\">\n            <el-slider v-model=\"value\" vertical :min=\"1\" :max=\"8\" placement=\"left\" :format-tooltip=\"formatLabel\"/>\n        </div>\n        <div class=\"branch-slider-label\">\n            <li v-for=\"branch in BranchMap\">{{ branch[1] }}</li>\n        </div>\n    </div>\n\n</template>\n<script lang=\"ts\" setup>\nimport { reactive, ref, watch} from \"vue\";\n\nconst props = defineProps({\n            dataList:{\n                type:Array,\n                required:false\n            }\n        })\n\nconst emit = defineEmits(['onValueChange']);\n\n//map\nlet BranchMap = new Map([\n    [8,'Main Trunk'],\n    [7, 'Meningeal Branch'],\n    [6, 'Auricular Branch'],\n    [5, 'Pharyngeal Branch'],\n    [4, 'Cardiac Branch'],\n    [3, 'Gastric Branch'],\n    [2, 'Celiac Branch'],\n    [1, 'Heaptic Branch']\n])\nif(props.dataList && props.dataList.length>0){\n    BranchMap.clear();\n    props.dataList.forEach((d:string,i)=>{\n        BranchMap.set(i,d);\n    })\n}\n\nconst value = ref(8);\nconst formatLabel= (val:number)=>{\n    return BranchMap.get(val);\n}\n\nwatch(value,(newValue)=>{\n    emit('onValueChange',BranchMap.get(newValue));\n})\n\n</script>\n<style scoped lang=\"scss\">\n@import '../assets/delete-when-dsc2-imported/_variables.scss';\n.branch-slider-wrap{\n    display:flex;\n    flex-flow:row;\n    height: inherit; \n    background: $background;\n    padding:5px;\n    .branch-slider-block {\n        align-items: center;\n        padding:16px 0 16px 0;\n    }   \n    .branch-slider-label{\n        text-align: left;\n    }\n    .branch-slider-block{\n        .el-slider{\n            margin-top: 0;\n            margin-left: 12px;\n        }\n        :deep(.el-slider__runway) {\n            background-color: white;\n        }\n        :deep(.el-slider__stop){\n            background-color: #8300BF;\n        }\n        :deep(.el-slider__bar){\n            background-color: white;\n        }\n    } \n}\n\n</style>","\n\nclass Img\n{\n    constructor(image){\n        this.ImgName = image.ImgName;\n        this.Path = image.Path;\n        this.Subject = new Subject(image.Subject);\n        this.Metadata = new Metadata(image.Metadata);\n    }\n}\n\nexport class Dataset\n{\n    constructor(dataset){\n        this.Imgs = [];\n        dataset.Imgs.forEach((img)=>this.Imgs.push(new Img(img)));\n    }\n}\n\nclass Metadata\n{\n    constructor(metadata){\n        this.Branch = metadata.Branch;\n        this.Sample = metadata.Sample;\n    }\n\n}\n\nclass Subject\n{\n    constructor(subject){\n        this.ID = subject.ID;\n        this.Sex = subject.Sex;\n        this.Age = subject.Age;\n    }\n}\n\n","<template>\n    <div class=\"fill\">\n\n    </div>\n    <div class=\"branch-slider\">\n        <branch-slider :dataList=\"dataList\" @on-value-change=\"(loc)=>selectLocation(loc)\"></branch-slider>\n    </div>\n    <el-table :data=\"TableData\" class=\"table-of-images\">\n        <el-table-column prop=\"name\" label=\"Name\"/>\n        <el-table-column prop=\"size\" label=\"Size\"/>\n        <el-table-column fixed=\"right\" label=\"Img\">\n            <template #default=\"scope\">\n                <el-button link type=\"primary\" size=\"small\" @click=\"selectImage(scope.$index)\">Open</el-button>\n            </template> \n        </el-table-column>\n    </el-table>\n</template>\n<script setup>\n  import { ref} from \"vue\";\n  import BranchSlider from \"../devComponents/BranchSlider.vue\";\n  import {Dataset} from '../assets/Model';\n\n  const baseUrl = './imgs/'\n  let TableData = ref();\n  let Location =\"\";\n\n  const props = defineProps({\n            dataList:{\n                type:Array,\n                required:false\n            },\n        })\n\nfunction selectImage(index){\n\n    let img = TableData.value[index].path;\n\n}\nfunction selectLocation(location){\n    Location=location;\n    //make call using location\n    fetch('./dataByLocation.json')\n        .then((response) => response.json())\n        .then((json) => buildDataTable(Object.assign(new Dataset(json)).Imgs),\n        );\n}\n\nfunction buildDataTable(Imgs){\n    let _tempArr=[];\n    Imgs.forEach((img)=>{\n        let column = {\n            name:img.ImgName,\n            size: \"...\",\n            path: img.Path\n        }\n        _tempArr.push(column);\n    })\n    TableData.value=_tempArr;\n}\n</script>\n<style scoped lang=\"scss\">\n    .branch-slider{\n        display:flex;\n        justify-content: center;\n        margin-bottom:10px;\n    }\n    .open-image{\n        color:#8300BF;\n    }\n\n</style>"],"names":["props","__props","emit","__emit","BranchMap","d","i","value","ref","formatLabel","val","watch","newValue","Img","image","Subject","Metadata","Dataset","dataset","img","metadata","subject","TableData","selectImage","index","selectLocation","location","response","json","buildDataTable","Imgs","_tempArr","column"],"mappings":"0WAcA,MAAMA,EAAQC,EAORC,EAAOC,EAGT,IAAAC,MAAgB,IAAI,CACpB,CAAC,EAAE,YAAY,EACf,CAAC,EAAG,kBAAkB,EACtB,CAAC,EAAG,kBAAkB,EACtB,CAAC,EAAG,mBAAmB,EACvB,CAAC,EAAG,gBAAgB,EACpB,CAAC,EAAG,gBAAgB,EACpB,CAAC,EAAG,eAAe,EACnB,CAAC,EAAG,gBAAgB,CAAA,CACvB,EACEJ,EAAM,UAAYA,EAAM,SAAS,OAAO,IACvCI,EAAU,MAAM,EAChBJ,EAAM,SAAS,QAAQ,CAACK,EAASC,IAAI,CACvBF,EAAA,IAAIE,EAAED,CAAC,CAAA,CACpB,GAGC,MAAAE,EAAQC,EAAI,CAAC,EACbC,EAAcC,GACTN,EAAU,IAAIM,CAAG,EAGtB,OAAAC,EAAAJ,EAAOK,GAAW,CACpBV,EAAK,gBAAgBE,EAAU,IAAIQ,CAAQ,CAAC,CAAA,CAC/C,isBC9CD,MAAMC,CACN,CACI,YAAYC,EAAM,CACd,KAAK,QAAUA,EAAM,QACrB,KAAK,KAAOA,EAAM,KAClB,KAAK,QAAU,IAAIC,EAAQD,EAAM,OAAO,EACxC,KAAK,SAAW,IAAIE,EAASF,EAAM,QAAQ,CAC9C,CACL,CAEO,MAAMG,CACb,CACI,YAAYC,EAAQ,CAChB,KAAK,KAAO,GACZA,EAAQ,KAAK,QAASC,GAAM,KAAK,KAAK,KAAK,IAAIN,EAAIM,CAAG,CAAC,CAAC,CAC3D,CACL,CAEA,MAAMH,CACN,CACI,YAAYI,EAAS,CACjB,KAAK,OAASA,EAAS,OACvB,KAAK,OAASA,EAAS,MAC1B,CAEL,CAEA,MAAML,CACN,CACI,YAAYM,EAAQ,CAChB,KAAK,GAAKA,EAAQ,GAClB,KAAK,IAAMA,EAAQ,IACnB,KAAK,IAAMA,EAAQ,GACtB,CACL,iMCbE,IAAIC,EAAYd,IAUlB,SAASe,EAAYC,EAAM,CAEbF,EAAU,MAAME,CAAK,EAAE,IAErC,CACA,SAASC,EAAeC,EAAS,CAG7B,MAAM,uBAAuB,EACxB,KAAMC,GAAaA,EAAS,KAAI,CAAE,EAClC,KAAMC,GAASC,EAAe,OAAO,OAAO,IAAIZ,EAAQW,CAAI,CAAC,EAAE,IAAI,CAC5E,CACA,CAEA,SAASC,EAAeC,EAAK,CACzB,IAAIC,EAAS,CAAA,EACbD,EAAK,QAASX,GAAM,CAChB,IAAIa,EAAS,CACT,KAAKb,EAAI,QACT,KAAM,MACN,KAAMA,EAAI,IACb,EACDY,EAAS,KAAKC,CAAM,CAC5B,CAAK,EACDV,EAAU,MAAMS,CACpB;;;;;;;;;;;;;;;;;"}